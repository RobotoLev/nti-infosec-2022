Репозиторий: https://github.com/RobotoLev/nti-infosec-2022 (пока приватный).
Отчет о восстановлении сегмента DMZ

Сканирование сегмента сети DMZ выявило рабочие хосты на адресах .10, .11, .12, .53. Первый из них – Linux, второй и третий – Windows (dmz.jpg).
 
На первом хосте открыты 4 порта: 22 ssh, 80 и 8080 http-сервера, 3306 mysql.
На 80 порту обнаруживается простой сайт на Wordpress с доступами admin/admin. Сразу ставим сложный пароль E1Jsw0)*(8dx . В админке уже установлен плагин для просмотра файлов, задаем ему корневую папку в / и получаем доступ ко всей файловой системе от имени www-data. Загружаем веб-шелл, получаем доступ к командной строке от имени www-data.
При анализе логов nginx и uwsgi находим Flask-приложение в /home/user/SolarApp_back/ и его бекап в /home/cadm/SolarApp_back/. Бекап readonly, у user-а имеем write-права. Приложение не работает, т.к. не имеет доступа к базе: в коде прописан доступ root/root, вероятно злоумышленник изменил доступы в базе. Доступ в базу пока восстановить не удалось, поэтому залили бекап от cadm в таблицу wpdb, на которой работал wordpress и доступ к которой был обнаружен в его конфиге. Запустили приложение на порту 5049.
В процессе работы был случайно удален сокет /home/user/SolarApp_back/solar.sock, связывающий uwsgi и nginx у оригинального приложения. Оба сервиса работают под рутом, мы админского доступа пока не имеем. Восстановите, пожалуйста, их исходную работу, если это требуется для решения задачи.
